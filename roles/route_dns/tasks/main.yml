---
# This code developed by Zalina

- name: Create CIFS SVM default route
  na_ontap_net_routes:
    state               : present
    hostname            : "{{ cluster_name }}"
    username            : "{{ netapp_username }}"
    password            : "{{ netapp_password }}"
    vserver             : "{{ svm_name | lower }}"
    destination         : 0.0.0.0/0
    gateway             : "{{ svm_gateway }}"
    metric              : 20
    ontapi              : 32
    https               : true
    validate_certs      : false
  connection            : local

- name: create CIFS SVM DNS table
  na_ontap_dns:
    state               : present
    hostname            : "{{ cluster_name }}"
    username            : "{{ netapp_username }}"
    password            : "{{ netapp_password }}"
    vserver             : "{{ svm_name | lower }}"
    domains             : na.xom.com,upstreamaccts.xom.com,ups.xom.com,ap.xom.com,ea.xom.com
    nameservers         : 10.1.4.11,10.1.4.12
    skip_validation     : true
    ontapi              : 32
    https               : true
    validate_certs      : false
  connection            : local
